{"version":3,"file":"SidebarLinks.js","sourceRoot":"","sources":["../../../../src/client/components/sidebar/SidebarLinks.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAE9C,OAAO,EAAE,eAAe,EAAE,CAAC,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAEzD,OAAO,YAAY,MAAM,6CAA6C,CAAC;AACvE,OAAO,YAAY,MAAM,6CAA6C,CAAC;AAEvE,OAAO,EAAE,mBAAmB,EAAE,MAAM,+CAA+C,CAAC;AAEpF,OAAO,yCAAyC,CAAC;AAEjD,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,cAAc;IAEpB,KAAK,EAAE;QACL;;;;WAIG;QACH,MAAM,EAAE;YACN,IAAI,EAAE,KAAgC;YACtC,QAAQ,EAAE,IAAI;SACf;KACF;IAED,KAAK,CAAC,KAAK;QACT,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,MAAM,SAAS,GAAG,YAAY,EAAE,CAAC;QACjC,MAAM,cAAc,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/B,MAAM,WAAW,GAAG,CAAC,KAAa,EAAQ,EAAE;YAC1C,cAAc,CAAC,KAAK,GAAG,KAAK,KAAK,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACrE,CAAC,CAAC;QAEF,cAAc,CACZ,SAAS,EACT,GAAS,EAAE;YACT,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE,CAC5C,mBAAmB,CAAC,KAAK,EAAE,IAAI,CAAC,CACjC,CAAC;YAEF,cAAc,CAAC,KAAK,GAAG,KAAK,CAAC;QAC/B,CAAC,EACD,EAAE,KAAK,EAAE,MAAM,EAAE,CAClB,CAAC;QAEF,OAAO,GAAiB,EAAE,CACxB,CAAC,CACC,IAAI,EACJ,EAAE,KAAK,EAAE,kBAAkB,EAAE,EAC7B,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CACjC,CAAC,CACC,IAAI,EACJ,UAAU,IAAI,MAAM;YAClB,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE;gBACd,MAAM;gBACN,IAAI,EAAE,KAAK,KAAK,cAAc,CAAC,KAAK;gBACpC,QAAQ,EAAE,GAAG,EAAE;oBACb,WAAW,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC;aACF,CAAC;YACJ,CAAC,CAAC,CAAC,CAAC,YAAY,EAAE,EAAE,MAAM,EAAE,CAAC,CAChC,CACF,CACF,CAAC;IACN,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { watchImmediate } from \"@vueuse/core\";\nimport type { PropType, VNode } from \"vue\";\nimport { defineComponent, h, ref } from \"vue\";\nimport { useRoute, useRoutePath } from \"vuepress/client\";\n\nimport SidebarChild from \"@theme-hope/components/sidebar/SidebarChild\";\nimport SidebarGroup from \"@theme-hope/components/sidebar/SidebarGroup\";\nimport type { SidebarItem } from \"@theme-hope/typings/sidebar\";\nimport { isActiveSidebarItem } from \"@theme-hope/utils/sidebar/isActiveSidebarItem\";\n\nimport \"../../styles/sidebar/sidebar-links.scss\";\n\nexport default defineComponent({\n  name: \"SidebarLinks\",\n\n  props: {\n    /**\n     * Sidebar links config\n     *\n     * 侧边栏链接配置\n     */\n    config: {\n      type: Array as PropType<SidebarItem[]>,\n      required: true,\n    },\n  },\n\n  setup(props) {\n    const route = useRoute();\n    const routePath = useRoutePath();\n    const openGroupIndex = ref(-1);\n\n    const toggleGroup = (index: number): void => {\n      openGroupIndex.value = index === openGroupIndex.value ? -1 : index;\n    };\n\n    watchImmediate(\n      routePath,\n      (): void => {\n        const index = props.config.findIndex((item) =>\n          isActiveSidebarItem(route, item),\n        );\n\n        openGroupIndex.value = index;\n      },\n      { flush: \"post\" },\n    );\n\n    return (): VNode | null =>\n      h(\n        \"ul\",\n        { class: \"vp-sidebar-links\" },\n        props.config.map((config, index) =>\n          h(\n            \"li\",\n            \"children\" in config\n              ? h(SidebarGroup, {\n                  config,\n                  open: index === openGroupIndex.value,\n                  onToggle: () => {\n                    toggleGroup(index);\n                  },\n                })\n              : h(SidebarChild, { config }),\n          ),\n        ),\n      );\n  },\n});\n"]}