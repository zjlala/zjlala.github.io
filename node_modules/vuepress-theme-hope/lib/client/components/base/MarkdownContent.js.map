{"version":3,"file":"MarkdownContent.js","sourceRoot":"","sources":["../../../../src/client/components/base/MarkdownContent.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,yBAAyB,CAAC;AACvE,OAAO,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAE/D,OAAO,EACL,QAAQ,EACR,eAAe,EACf,CAAC,EACD,SAAS,EACT,GAAG,EACH,gBAAgB,GACjB,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAE1C,OAAO,EAAE,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAClE,OAAO,EAAE,QAAQ,EAAE,MAAM,kCAAkC,CAAC;AAE5D,OAAO,yCAAyC,CAAC;AAEjD,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,iBAAiB;IAEvB,KAAK,EAAE;QACL,oCAAoC;QACpC,MAAM,EAAE,OAAO;KAChB;IAED,KAAK,EAAE,MAGL;IAEF,KAAK,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE;QACpB,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,WAAW,EAAE,CAAC;QAElD,MAAM,cAAc,GAAG,GAAG,EAAe,CAAC;QAE1C,MAAM,SAAS,GAAG,eAAe,CAAC,cAAc,EAAE;YAChD,UAAU,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;YAClE,UAAU,EAAE,CAAC;SACd,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,QAAQ,CAC1B,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CACxE,CAAC;QAEF,SAAS,CAAC,GAAG,EAAE;YACb,MAAM,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAC;YAEtC,cAAc,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE;gBACpC,IAAI,KAAK,EAAE,CAAC;oBACV,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBACpC,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;gBACvC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,GAAU,EAAE,CACjB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,EAAE,YAAY,EAAE,EAAE,EAAE,EAAE;YAC9D,KAAK,CAAC,aAAa,EAAE,EAAE;YACvB,CAAC,CAAC,OAAO,EAAE;gBACT,GAAG,EAAE,cAAc;gBACnB,EAAE,EAAE,kBAAkB;aACvB,CAAC;YACF,KAAK,CAAC,YAAY,EAAE,EAAE;YACtB,SAAS,CAAC,KAAK,IAAI,kBAAkB,CAAC,cAAc,CAAC;gBACnD,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;gBACrC,CAAC,CAAC,IAAI;YACR,YAAY,CAAC,KAAK,KAAK,SAAS;gBAChC,kBAAkB,CAAC,iBAAiB,CAAC;gBACnC,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;gBACxC,CAAC,CAAC,IAAI;SACT,CAAC,CAAC;IACP,CAAC;CACF,CAAC,CAAC","sourcesContent":["import type { Slot } from \"@vuepress/helper/client\";\nimport { hasGlobalComponent, isNumber } from \"@vuepress/helper/client\";\nimport { useElementHover, watchImmediate } from \"@vueuse/core\";\nimport type { SlotsType, VNode } from \"vue\";\nimport {\n  computed,\n  defineComponent,\n  h,\n  onMounted,\n  ref,\n  resolveComponent,\n} from \"vue\";\nimport { Content } from \"vuepress/client\";\n\nimport { useMetaInfo } from \"@theme-hope/composables/useMetaInfo\";\nimport { useTheme } from \"@theme-hope/composables/useTheme\";\n\nimport \"../../styles/base/markdown-content.scss\";\n\nexport default defineComponent({\n  name: \"MarkdownContent\",\n\n  props: {\n    /** whether use customized layout */\n    custom: Boolean,\n  },\n\n  slots: Object as SlotsType<{\n    contentBefore?: Slot;\n    contentAfter?: Slot;\n  }>,\n\n  setup(props, { slots }) {\n    const theme = useTheme();\n    const { changelog, contributors } = useMetaInfo();\n\n    const contentElement = ref<HTMLElement>();\n\n    const isHovered = useElementHover(contentElement, {\n      delayEnter: isNumber(theme.value.focus) ? theme.value.focus : 1500,\n      delayLeave: 0,\n    });\n\n    const enableFocus = computed(\n      () => Boolean(theme.value.focus ?? theme.value.pure) && isHovered.value,\n    );\n\n    onMounted(() => {\n      const html = document.documentElement;\n\n      watchImmediate(enableFocus, (value) => {\n        if (value) {\n          html.classList.add(\"is-focusing\");\n        } else {\n          html.classList.remove(\"is-focusing\");\n        }\n      });\n    });\n\n    return (): VNode =>\n      h(\"div\", { class: { custom: props.custom }, \"vp-content\": \"\" }, [\n        slots.contentBefore?.(),\n        h(Content, {\n          ref: contentElement,\n          id: \"markdown-content\",\n        }),\n        slots.contentAfter?.(),\n        changelog.value && hasGlobalComponent(\"GitChangelog\")\n          ? h(resolveComponent(\"GitChangelog\"))\n          : null,\n        contributors.value === \"content\" &&\n        hasGlobalComponent(\"GitContributors\")\n          ? h(resolveComponent(\"GitContributors\"))\n          : null,\n      ]);\n  },\n});\n"]}