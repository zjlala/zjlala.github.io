{"version":3,"file":"NavScreen.js","sourceRoot":"","sources":["../../../../src/client/components/navbar/NavScreen.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,UAAU,EACV,eAAe,EACf,CAAC,EACD,SAAS,EACT,WAAW,EACX,UAAU,EACV,KAAK,GACN,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAEnD,OAAO,kBAAkB,MAAM,sDAAsD,CAAC;AACtF,OAAO,cAAc,MAAM,8CAA8C,CAAC;AAC1E,OAAO,EAAE,aAAa,EAAE,MAAM,uCAAuC,CAAC;AAEtE,OAAO,8CAA8C,CAAC;AACtD,OAAO,qCAAqC,CAAC;AAE7C,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,WAAW;IAEjB,KAAK,EAAE;QACL;;;;WAIG;QACH,IAAI,EAAE,OAAO;KACd;IAED,KAAK,EAAE,MAGL;IAEF,KAAK,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE;QACpB,MAAM,EAAE,QAAQ,EAAE,GAAG,aAAa,EAAE,CAAC;QACrC,MAAM,IAAI,GAAG,UAAU,EAAe,CAAC;QACvC,MAAM,QAAQ,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;QAErC,gBAAgB,CAAC,GAAG,EAAE;YACpB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,KAAK,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;YACxB,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI;gBAAE,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,GAAG,EAAE;YACb,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,GAAG,EAAE;YACf,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,OAAO,GAAU,EAAE,CACjB,CAAC,CACC,UAAU,EACV;YACE,IAAI,EAAE,cAAc;YACpB,OAAO,EAAE,GAAG,EAAE;gBACZ,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;YACxB,CAAC;YACD,YAAY,EAAE,GAAG,EAAE;gBACjB,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;YACzB,CAAC;SACF,EACD,GAAG,EAAE,CACH,KAAK,CAAC,IAAI;YACR,CAAC,CAAC,CAAC,CACC,KAAK,EACL,EAAE,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,eAAe,EAAE,EAC5C,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,yBAAyB,EAAE,EAAE;gBAC7C,KAAK,CAAC,YAAY,EAAE,EAAE;gBACtB,CAAC,CAAC,cAAc,CAAC;gBACjB,CAAC,CACC,KAAK,EACL,EAAE,KAAK,EAAE,uBAAuB,EAAE,EAClC,CAAC,CAAC,kBAAkB,CAAC,CACtB;gBACD,KAAK,CAAC,eAAe,EAAE,EAAE;aAC1B,CAAC,CACH;YACH,CAAC,CAAC,IAAI,CACX,CAAC;IACN,CAAC;CACF,CAAC,CAAC","sourcesContent":["import type { Slot } from \"@vuepress/helper/client\";\nimport { useScrollLock } from \"@vueuse/core\";\nimport type { SlotsType, VNode } from \"vue\";\nimport {\n  Transition,\n  defineComponent,\n  h,\n  onMounted,\n  onUnmounted,\n  shallowRef,\n  watch,\n} from \"vue\";\nimport { onContentUpdated } from \"vuepress/client\";\n\nimport AppearanceSettings from \"@theme-hope/components/appearance/AppearanceSettings\";\nimport NavScreenLinks from \"@theme-hope/components/navbar/NavScreenLinks\";\nimport { useWindowSize } from \"@theme-hope/composables/useWindowSize\";\n\nimport \"@vuepress/helper/transition/fade-in-down.css\";\nimport \"../../styles/navbar/nav-screen.scss\";\n\nexport default defineComponent({\n  name: \"NavScreen\",\n\n  props: {\n    /**\n     * Whether to show the screen\n     *\n     * 是否显示\n     */\n    show: Boolean,\n  },\n\n  slots: Object as SlotsType<{\n    navScreenTop?: Slot;\n    navScreenBottom?: Slot;\n  }>,\n\n  setup(props, { slots }) {\n    const { isMobile } = useWindowSize();\n    const body = shallowRef<HTMLElement>();\n    const isLocked = useScrollLock(body);\n\n    onContentUpdated(() => {\n      isLocked.value = false;\n    });\n\n    watch(isMobile, (value) => {\n      if (!value && props.show) isLocked.value = false;\n    });\n\n    onMounted(() => {\n      body.value = document.body;\n    });\n\n    onUnmounted(() => {\n      isLocked.value = false;\n    });\n\n    return (): VNode =>\n      h(\n        Transition,\n        {\n          name: \"fade-in-down\",\n          onEnter: () => {\n            isLocked.value = true;\n          },\n          onAfterLeave: () => {\n            isLocked.value = false;\n          },\n        },\n        () =>\n          props.show\n            ? h(\n                \"div\",\n                { id: \"nav-screen\", class: \"vp-nav-screen\" },\n                h(\"div\", { class: \"vp-nav-screen-container\" }, [\n                  slots.navScreenTop?.(),\n                  h(NavScreenLinks),\n                  h(\n                    \"div\",\n                    { class: \"vp-appearance-wrapper\" },\n                    h(AppearanceSettings),\n                  ),\n                  slots.navScreenBottom?.(),\n                ]),\n              )\n            : null,\n      );\n  },\n});\n"]}