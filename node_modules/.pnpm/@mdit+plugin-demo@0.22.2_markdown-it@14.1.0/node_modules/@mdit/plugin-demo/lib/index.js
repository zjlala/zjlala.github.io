const z=(a,{name:t="demo",openRender:I=(u,e)=>`<details><summary>${u[e].info}</summary>
`,closeRender:j=()=>`</details>
`,codeRender:o,contentOpenRender:C,contentCloseRender:M,showCodeFirst:A=!1}={})=>{const u=(e,c,B,O)=>{const p=e.bMarks[c]+e.tShift[c],m=e.eMarks[c],f=e.sCount[c];if(e.src.charCodeAt(p)!==58||m-p<3+t.length)return!1;let r=p+1;for(;r<=m&&e.src.charCodeAt(r)===58;)r++;const i=r-p;if(i<3)return!1;r=e.skipSpaces(r);for(let s=0;s<t.length;s++){if(e.src.charCodeAt(r)!==t.charCodeAt(s))return!1;r++}const k=r,S=e.skipSpacesBack(m,r),y=S>k;let _=-1;if(y&&(_=e.skipSpaces(k),_===k))return!1;if(O)return!0;let n=c+1,v=!1;for(;n<B;n++){const s=e.bMarks[n]+e.tShift[n],l=e.eMarks[n];if(s<l&&e.sCount[n]<f)break;if(e.sCount[n]===f&&e.src.charCodeAt(s)===58){for(r=s+1;r<=l&&e.src.charCodeAt(r)===58;r++);if(r-s>=i&&(r=e.skipSpaces(r),r>=l)){v=!0;break}}}const P=e.parentType,T=e.lineMax,q=e.blkIndent;e.parentType="demo",e.lineMax=n,e.blkIndent=f;const x=":".repeat(i),h=y?e.src.slice(_,S):"Demo",d=e.push(`${t}_demo_open`,"div",1);d.markup=x,d.block=!0,d.info=h,d.map=[c,n];const R=()=>{const s=e.push(o?`${t}_demo_code`:"fence","code",0),l=e.sCount[c];s.content=e.src.split(/\n\r?/).slice(c+1,n).map($=>$.slice(l)).filter($=>!/^<!-- #include-env-(?:start: .*|end) -->$/.test($)).join(`
`).replace(/^\n+/,"").replace(/\n*$/,`
`),s.map=[c,e.line],(s.meta??={}).title=h,o||(s.info="md")};A&&R();const g=e.push(`${t}_demo_content_open`,"div",1);g.attrPush(["class","demo-content"]),g.block=!0,d.map=[c,n],e.md.block.tokenize(e,c+1,n);const w=e.push(`${t}_demo_content_close`,"div",-1);w.block=!0,A||R();const b=e.push(`${t}_demo_close`,"div",-1);return b.markup=x,b.block=!0,b.info=h,e.parentType=P,e.lineMax=T,e.blkIndent=q,e.line=n+(v?1:0),!0};a.block.ruler.before("fence","demo",u,{alt:["paragraph","reference","blockquote","list"]}),a.renderer.rules[`${t}_demo_open`]=I,a.renderer.rules[`${t}_demo_close`]=j,o&&(a.renderer.rules[`${t}_demo_code`]=o),C&&(a.renderer.rules[`${t}_demo_content_open`]=C),M&&(a.renderer.rules[`${t}_demo_content_close`]=M)};export{z as demo};
//# sourceMappingURL=index.js.map
