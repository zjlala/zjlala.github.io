import{Logger as y,getFullLocaleConfig as h,addViteSsrNoExternal as C}from"@vuepress/helper";import{getDirname as k,path as K}from"vuepress/utils";import{createPage as L}from"vuepress/core";const v=["and","or","in","on","with","by","for","at","about","under","of","to","the","into"],$=l=>l.replace(/[-_]/gu," ").replace(/(^|[^A-Z])([A-Z])/gu,(t,o,i)=>`${o} ${i.toLowerCase()}`).replace(/ +/gu," ").trim().split(" ").map((t,o)=>v.includes(t)&&o!==0?t:t.charAt(0).toUpperCase()+t.slice(1)).join(" "),c="@vuepress/plugin-catalog",s=new y(c),A=async(l,{component:t="Catalog",exclude:o=[],frontmatter:i=()=>({}),level:n=3,index:u=!1})=>{const{env:{isDebug:d},pages:m}=l,r=new Set,f=`<${t}${[1,2].includes(n)?` :level="${n}"`:""}${u?" index":""}/>
`;m.forEach(({path:e,pathLocale:p})=>{let a=e;if(e!=="/404.html")for(;a!==p;)a=a.replace(/\/(?:[^/]+\/?)$/,"/"),!r.has(a)&&o.every(g=>!a.match(g))&&m.every(({path:g})=>g!==a)&&(d&&s.info(`Generating catalog ${a}`),r.add(a))}),await Promise.all(Array.from(r).map(e=>decodeURI(e)).map(async e=>{const[,p=""]=/\/([^/]+)\/?$/.exec(e)??[],a=$(p);return L(l,{frontmatter:{title:a,...i(e)},content:f,path:e})})).then(e=>{l.pages.push(...e)})},N=[[["en","en-US"],{title:"Catalog",empty:"No catalog"}],[["zh","zh-CN","zh-Hans"],{title:"目录",empty:"暂无目录"}],[["zh-TW","zh-Hant"],{title:"目錄",empty:"暫無目錄"}],[["de","de-DE"],{title:"Katalog",empty:"Kein Katalog"}],[["vi","vi-VN"],{title:"Danh mục",empty:"Không có danh mục"}],[["uk"],{title:"Каталог",empty:"Немає каталогу"}],[["ru","ru-RU"],{title:"Каталог",empty:"Нет каталога"}],[["br"],{title:"Catálogo",empty:"Sem catálogo"}],[["pl","pl-PL"],{title:"Katalog",empty:"Brak katalogu"}],[["sk","sk-SK"],{title:"Katalóg",empty:"Žiadny katalóg"}],[["fr","fr-FR"],{title:"Catalogue",empty:"Pas de catalogue"}],[["es","es-ES"],{title:"Catálogo",empty:"Sin catálogo"}],[["ja","ja-JP"],{title:"カタログ",empty:"カタログなし"}],[["tr","tr-TR"],{title:"Katalog",empty:"Katalog yok"}],[["ko","ko-KO"],{title:"목차",empty:"목차 없음"}],[["fi","fi-FI"],{title:"Luettelo",empty:"Ei luetteloa"}],[["hu","hu-HU"],{title:"Katalógus",empty:"Nincs katalógus"}],[["id","id-ID"],{title:"Katalog",empty:"Tidak ada katalog"}],[["nl","nl-NL"],{title:"Catalogus",empty:"Geen catalogus"}]],P=import.meta.dirname||k(import.meta.url),S=(l={})=>t=>{t.env.isDebug&&s.info("Options:",l);const{component:o,locales:i}=l;return{name:c,define:()=>({__CATALOG_LOCALES__:h({app:t,name:c,default:N,config:i})}),onInitialized:()=>A(t,l),extendsBundlerOptions:n=>{C(n,t,"@vuepress/helper")},...o?{}:{clientConfigFile:K.join(P,"../client/config.js")}}};export{S as catalogPlugin};
//# sourceMappingURL=index.js.map
