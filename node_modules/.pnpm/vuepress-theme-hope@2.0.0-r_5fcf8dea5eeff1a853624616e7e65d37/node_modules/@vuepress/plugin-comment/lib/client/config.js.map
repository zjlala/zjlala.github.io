{"version":3,"file":"config.js","sources":["../../src/client/components/CommentService.ts","../../src/client/config.ts"],"sourcesContent":["import CommentProvider from '@vuepress/plugin-comment/service'\nimport type { VNode } from 'vue'\nimport { computed, defineComponent, h } from 'vue'\nimport { useData } from 'vuepress/client'\nimport type { CommentPluginFrontmatter } from '../../shared/index.js'\nimport { useCommentOptions } from '../helpers/index.js'\n\n/**\n * Comment service component\n *\n * 评论服务组件\n */\nexport default defineComponent({\n  name: 'CommentService',\n\n  props: {\n    /**\n     * The identifier of the comment\n     *\n     * 评论标识符\n     */\n    identifier: String,\n\n    /**\n     * Whether the component is in darkmode\n     *\n     * 组件是否处于夜间模式\n     */\n    darkmode: Boolean,\n  },\n\n  setup(props) {\n    const { frontmatter, page } = useData<CommentPluginFrontmatter>()\n    const commentOptions = useCommentOptions()\n\n    const enabled = computed(\n      () => frontmatter.value.comment ?? commentOptions.value.comment ?? true,\n    )\n\n    return (): VNode | null =>\n      h(CommentProvider, {\n        'class': 'vp-comment',\n        'vp-comment': '',\n        'identifier':\n          props.identifier ?? frontmatter.value.commentID ?? page.value.path,\n        'darkmode': props.darkmode,\n        'style': { display: enabled.value ? 'block' : 'none' },\n      })\n  },\n})\n","import { defineClientConfig } from 'vuepress/client'\nimport CommentService from './components/CommentService.js'\nimport { injectCommentConfig } from './helpers/index.js'\n\nimport './styles/base.css'\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n    injectCommentConfig(app)\n    app.component('CommentService', CommentService)\n  },\n})\n"],"names":["m","defineComponent","props","frontmatter","page","useData","commentOptions","useCommentOptions","enabled","computed","h","CommentProvider","config","defineClientConfig","app","injectCommentConfig","CommentService"],"mappings":"2SAYA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,iBAEN,MAAO,CAML,WAAY,OAOZ,SAAU,OACZ,EAEA,MAAMC,EAAO,CACX,KAAM,CAAE,YAAAC,EAAa,KAAAC,CAAK,EAAIC,EAAAA,EACxBC,EAAiBC,EAAAA,EAEjBC,EAAUC,EACd,IAAMN,EAAY,MAAM,SAAWG,EAAe,MAAM,SAAW,EACrE,EAEA,MAAO,IACLI,EAAEC,EAAiB,CACjB,MAAS,aACT,aAAc,GACd,WACET,EAAM,YAAcC,EAAY,MAAM,WAAaC,EAAK,MAAM,KAChE,SAAYF,EAAM,SAClB,MAAS,CAAE,QAASM,EAAQ,MAAQ,QAAU,MAAO,CACvD,CAAC,CACL,CACF,CAAC,EC3CDI,EAAeC,EAAmB,CAChC,QAAS,CAAC,CAAE,IAAAC,CAAI,IAAM,CACpBC,EAAoBD,CAAG,EACvBA,EAAI,UAAU,iBAAkBE,CAAc,CAChD,CACF,CAAC"}