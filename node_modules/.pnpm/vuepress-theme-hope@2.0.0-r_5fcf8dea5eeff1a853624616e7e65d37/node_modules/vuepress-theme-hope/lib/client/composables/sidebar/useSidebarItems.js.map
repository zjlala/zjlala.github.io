{"version":3,"file":"useSidebarItems.js","sourceRoot":"","sources":["../../../../src/client/composables/sidebar/useSidebarItems.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AAEhD,OAAO,EAAE,OAAO,EAAE,MAAM,iCAAiC,CAAC;AAE1D,OAAO,EAAE,mBAAmB,EAAE,MAAM,+CAA+C,CAAC;AASpF,MAAM,CAAC,MAAM,kBAAkB,GAAkC,MAAM,CACrE,gBAAgB,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CACvC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,iBAAiB,GAAG,GAAS,EAAE;IAC1C,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,GAAG,OAAO,EAEjE,CAAC;IAEJ,qDAAqD;IACrD,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,EAAE,CACnC,WAAW,CAAC,KAAK,CAAC,IAAI;QACpB,CAAC,CAAC,KAAK;QACP,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,IAAI,WAAW,CAAC,KAAK,CAAC,OAAO,IAAI,WAAW,CAAC,CAC5E,CAAC;IAEF,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,EAAE,CACjC,mBAAmB,CAAC;QAClB,MAAM,EAAE,cAAc,CAAC,KAAK;QAC5B,WAAW,EAAE,WAAW,CAAC,KAAK;QAC9B,SAAS,EAAE,SAAS,CAAC,KAAK;KAC3B,CAAC,CACH,CAAC;IAEF,OAAO,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;AAC5C,CAAC,CAAC;AAEF;;GAEG;AACH,MAAM,CAAC,MAAM,eAAe,GAAG,GAAoB,EAAE;IACnD,MAAM,YAAY,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC;IAEhD,IAAI,CAAC,YAAY;QACf,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;IAEnE,OAAO,YAAY,CAAC;AACtB,CAAC,CAAC","sourcesContent":["import type { ComputedRef, InjectionKey } from \"vue\";\nimport { computed, inject, provide } from \"vue\";\n\nimport { useData } from \"@theme-hope/composables/useData\";\nimport type { SidebarItem } from \"@theme-hope/typings/sidebar\";\nimport { resolveSidebarItems } from \"@theme-hope/utils/sidebar/resolveSidebarItems\";\n\nimport type {\n  ThemeHomePageFrontmatter,\n  ThemeProjectHomePageFrontmatter,\n} from \"../../../shared/index.js\";\n\nexport type SidebarItemsRef = ComputedRef<SidebarItem[]>;\n\nexport const sidebarItemsSymbol: InjectionKey<SidebarItemsRef> = Symbol(\n  __VUEPRESS_DEV__ ? \"sidebarItems\" : \"\",\n);\n\n/**\n * Create sidebar items ref and provide as global computed in setup\n */\nexport const setupSidebarItems = (): void => {\n  const { frontmatter, routeLocale, routePath, themeLocale } = useData<\n    ThemeHomePageFrontmatter | ThemeProjectHomePageFrontmatter\n  >();\n\n  // Get sidebar options from frontmatter > themeConfig\n  const sidebarOptions = computed(() =>\n    frontmatter.value.home\n      ? false\n      : (frontmatter.value.sidebar ?? themeLocale.value.sidebar ?? \"structure\"),\n  );\n\n  const sidebarItems = computed(() =>\n    resolveSidebarItems({\n      config: sidebarOptions.value,\n      routeLocale: routeLocale.value,\n      routePath: routePath.value,\n    }),\n  );\n\n  provide(sidebarItemsSymbol, sidebarItems);\n};\n\n/**\n * Inject sidebar items global computed\n */\nexport const useSidebarItems = (): SidebarItemsRef => {\n  const sidebarItems = inject(sidebarItemsSymbol);\n\n  if (!sidebarItems)\n    throw new Error(\"useSidebarItems() is called without provider.\");\n\n  return sidebarItems;\n};\n"]}