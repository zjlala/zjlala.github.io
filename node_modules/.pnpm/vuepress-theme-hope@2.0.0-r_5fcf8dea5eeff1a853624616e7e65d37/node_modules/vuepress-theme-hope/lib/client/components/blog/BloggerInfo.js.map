{"version":3,"file":"BloggerInfo.js","sourceRoot":"","sources":["../../../../src/client/components/blog/BloggerInfo.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Slot } from \"@vuepress/helper/client\";\nimport { keys } from \"@vuepress/helper/client\";\nimport type { SlotsType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { RouteLink, withBase } from \"vuepress/client\";\n\nimport SocialMedias from \"@theme-hope/components/blog/SocialMedias\";\nimport { useArticles } from \"@theme-hope/composables/blog/useArticles\";\nimport { useBlogLocale } from \"@theme-hope/composables/blog/useBlogLocale\";\nimport { useBlogOptions } from \"@theme-hope/composables/blog/useBlogOptions\";\nimport { useCategoryMap } from \"@theme-hope/composables/blog/useCategoryMap\";\nimport { useTagMap } from \"@theme-hope/composables/blog/useTagMap\";\nimport { useTimeline } from \"@theme-hope/composables/blog/useTimeline\";\nimport { useData } from \"@theme-hope/composables/useData\";\nimport { useNavigate } from \"@theme-hope/composables/useNavigate\";\nimport type { BloggerInfoSlotData } from \"@theme-hope/typings/slots\";\n\nimport { getAuthor } from \"../../../shared/index.js\";\n\nimport \"../../styles/blog/blogger-info.scss\";\n\nexport default defineComponent({\n  name: \"BloggerInfo\",\n\n  slots: Object as SlotsType<{\n    bloggerInfo?: Slot<BloggerInfoSlotData>;\n  }>,\n\n  setup(_props, { slots }) {\n    const blogLocale = useBlogLocale();\n    const blogOptions = useBlogOptions();\n    const { siteLocale, themeLocale } = useData();\n    const articles = useArticles();\n    const categoryMap = useCategoryMap();\n    const tagMap = useTagMap();\n    const timelines = useTimeline();\n    const navigate = useNavigate();\n\n    const bloggerInfo = computed(() => ({\n      name:\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        blogOptions.value.name ??\n        getAuthor(themeLocale.value.author)[0]?.name ??\n        siteLocale.value.title,\n      avatar: blogOptions.value.avatar ?? themeLocale.value.logo ?? null,\n      description: blogOptions.value.description ?? null,\n    }));\n\n    const intro = computed(() => blogOptions.value.intro);\n\n    return (): VNode => {\n      const { article, category, tag, timeline } = blogLocale.value;\n      const countItems: [string, number, string][] = [\n        [articles.value.path, articles.value.items.length, article],\n        [categoryMap.value.path, keys(categoryMap.value.map).length, category],\n        [tagMap.value.path, keys(tagMap.value.map).length, tag],\n        [timelines.value.path, timelines.value.items.length, timeline],\n      ];\n\n      return h(\n        \"div\",\n        {\n          class: \"vp-blogger-info\",\n          vocab: \"https://schema.org/\",\n          typeof: \"Person\",\n        },\n        slots.bloggerInfo?.(bloggerInfo.value) ?? [\n          h(\n            \"div\",\n            {\n              class: \"vp-blogger\",\n              ...(intro.value\n                ? {\n                    \"aria-label\": blogLocale.value.intro,\n                    \"data-balloon-pos\": \"down\",\n                    role: \"link\",\n                    onClick: (): void => {\n                      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                      navigate(intro.value!);\n                    },\n                  }\n                : {}),\n            },\n            [\n              bloggerInfo.value.avatar\n                ? h(\"img\", {\n                    class: \"vp-blogger-avatar\",\n                    src: withBase(bloggerInfo.value.avatar),\n                    property: \"image\",\n                    alt: \"Blogger Avatar\",\n                    loading: \"lazy\",\n                  })\n                : null,\n              bloggerInfo.value.name\n                ? h(\n                    \"div\",\n                    { class: \"vp-blogger-name\", property: \"name\" },\n                    bloggerInfo.value.name,\n                  )\n                : null,\n              bloggerInfo.value.description\n                ? h(\"div\", {\n                    class: \"vp-blogger-description\",\n                    innerHTML: bloggerInfo.value.description,\n                  })\n                : null,\n              intro.value\n                ? h(\"meta\", { property: \"url\", content: withBase(intro.value) })\n                : null,\n            ],\n          ),\n          h(\n            \"div\",\n            { class: \"vp-blog-counts\" },\n            countItems.map(([path, count, locale]) =>\n              h(RouteLink, { class: \"vp-blog-count\", to: path }, () => [\n                h(\"div\", { class: \"count\" }, count),\n                h(\"div\", locale),\n              ]),\n            ),\n          ),\n          h(SocialMedias),\n        ],\n      );\n    };\n  },\n});\n"]}