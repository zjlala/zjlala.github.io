{"version":3,"file":"ArticleItem.js","sourceRoot":"","sources":["../../../../src/client/components/blog/ArticleItem.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Slot } from \"@vuepress/helper/client\";\nimport type { PropType, SlotsType, VNode } from \"vue\";\nimport { defineComponent, h, toRef } from \"vue\";\nimport { RouteLink, useRouter, withBase } from \"vuepress/client\";\n\nimport { SlideIcon, StickyIcon } from \"@theme-hope/components/blog/icons\";\nimport LockIcon from \"@theme-hope/components/encrypt/LockIcon\";\nimport PageInfo from \"@theme-hope/components/info/PageInfo\";\nimport { useArticleInfo } from \"@theme-hope/composables/blog/useArticleInfo\";\nimport type {\n  ArticleCoverSlotData,\n  ArticleExcerptSlotData,\n  ArticleInfoSlotData,\n  ArticleTitleSlotData,\n} from \"@theme-hope/typings/slots\";\n\nimport type { ArticleInfoData, PageInfoData } from \"../../../shared/index.js\";\n\nimport \"../../styles/blog/article-item.scss\";\n\nexport default defineComponent({\n  name: \"ArticleItem\",\n\n  props: {\n    /**\n     * Article information\n     *\n     * 文章信息\n     */\n    info: {\n      type: Object as PropType<PageInfoData & ArticleInfoData>,\n      required: true,\n    },\n\n    /**\n     * Article path\n     *\n     * 文章路径\n     */\n    path: { type: String, required: true },\n  },\n\n  slots: Object as SlotsType<{\n    articleCover?: Slot<ArticleCoverSlotData>;\n    articleTitle?: Slot<ArticleTitleSlotData>;\n    articleInfo?: Slot<ArticleInfoSlotData>;\n    articleExcerpt?: Slot<ArticleExcerptSlotData>;\n  }>,\n\n  setup(props, { slots }) {\n    const articleInfo = toRef(props, \"info\");\n    const { info: pageInfo, items } = useArticleInfo(props);\n    const router = useRouter();\n\n    return (): VNode => {\n      const {\n        title,\n        type,\n        isEncrypted = false,\n        cover = null,\n        excerpt = null,\n        sticky,\n      } = articleInfo.value;\n      const info = pageInfo.value;\n\n      return h(\n        \"div\",\n        {\n          class: \"vp-article-wrapper\",\n          onClick: (event: MouseEvent) => {\n            if ((event.target as HTMLElement | undefined)?.matches(\"summary\"))\n              return;\n\n            event.preventDefault();\n            void router.push(props.path);\n          },\n        },\n        h(\n          \"article\",\n          {\n            class: \"vp-article-item\",\n            vocab: \"https://schema.org/\",\n            typeof: \"Article\",\n          },\n          [\n            slots.articleCover?.({ cover }) ??\n              (cover\n                ? [\n                    h(\"img\", {\n                      class: \"vp-article-cover\",\n                      src: withBase(cover),\n                      alt: \"\",\n                      loading: \"lazy\",\n                    }),\n                    h(\"meta\", {\n                      property: \"image\",\n                      content: withBase(cover),\n                    }),\n                  ]\n                : []),\n            sticky ? h(StickyIcon) : null,\n            h(\n              RouteLink,\n              { to: props.path },\n              () =>\n                slots.articleTitle?.({ title, isEncrypted, type }) ??\n                h(\"header\", { class: \"vp-article-title\" }, [\n                  isEncrypted ? h(LockIcon) : null,\n                  type === \"slide\" ? h(SlideIcon) : null,\n                  h(\"span\", { property: \"headline\" }, title),\n                ]),\n            ),\n            slots.articleExcerpt?.({ excerpt }) ??\n              (excerpt\n                ? h(\"div\", {\n                    class: \"vp-article-excerpt\",\n                    innerHTML: excerpt,\n                  })\n                : null),\n            h(\"hr\", { class: \"vp-article-hr\" }),\n            slots.articleInfo?.(info) ??\n              h(PageInfo, {\n                info,\n                items: items.value,\n                onClick: (event: MouseEvent) => {\n                  event.stopPropagation();\n                },\n              }),\n          ],\n        ),\n      );\n    };\n  },\n});\n"]}