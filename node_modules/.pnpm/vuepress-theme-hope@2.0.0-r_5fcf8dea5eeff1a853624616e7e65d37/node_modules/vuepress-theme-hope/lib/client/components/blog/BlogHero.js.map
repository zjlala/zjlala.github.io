{"version":3,"file":"BlogHero.js","sourceRoot":"","sources":["../../../../src/client/components/blog/BlogHero.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Slot } from \"@vuepress/helper/client\";\nimport { isString } from \"@vuepress/helper/client\";\nimport type { SlotsType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { withBase } from \"vuepress/client\";\n\nimport HeroSlideDownButton from \"@theme-hope/components/home/HeroSlideDownButton\";\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\nimport { useData } from \"@theme-hope/composables/useData\";\nimport type {\n  HeroBackgroundSlotData,\n  HeroInfoSlotData,\n  HeroLogoSlotData,\n} from \"@theme-hope/typings/slots\";\n\nimport type { ThemeBlogHomePageFrontmatter } from \"../../../shared/index.js\";\n\nimport \"../../styles/blog/blog-hero.scss\";\n\nconst DEFAULT_HERO = \"//theme-hope-assets.vuejs.press/hero/default.jpg\";\n\nexport default defineComponent({\n  name: \"BlogHero\",\n\n  slots: Object as SlotsType<{\n    heroInfo?: Slot<HeroInfoSlotData>;\n    heroLogo?: Slot<HeroLogoSlotData>;\n    heroBg?: Slot<HeroBackgroundSlotData>;\n  }>,\n\n  setup(_props, { slots }) {\n    const { frontmatter, siteLocale } = useData<ThemeBlogHomePageFrontmatter>();\n\n    const info = computed(() => {\n      const {\n        heroText,\n        heroStyle,\n        tagline,\n        heroFullScreen = false,\n      } = frontmatter.value;\n\n      return {\n        text: heroText ?? (siteLocale.value.title || \"Hello\"),\n        tagline: tagline ?? \"\",\n        style: heroStyle ?? null,\n        isFullScreen: heroFullScreen,\n      };\n    });\n\n    const image = computed(() => {\n      const { heroImage, heroImageDark, heroAlt, heroImageStyle } =\n        frontmatter.value;\n\n      return {\n        image: heroImage ? withBase(heroImage) : null,\n        imageDark: heroImageDark ? withBase(heroImageDark) : null,\n        style: heroImageStyle ?? null,\n        alt: heroAlt ?? \"\",\n      };\n    });\n\n    const bg = computed(() => {\n      const { bgImage, bgImageDark, bgImageStyle } = frontmatter.value;\n\n      return {\n        image: isString(bgImage)\n          ? withBase(bgImage)\n          : bgImage === false\n            ? null\n            : DEFAULT_HERO,\n        imageDark: isString(bgImageDark) ? withBase(bgImageDark) : null,\n        style: bgImageStyle ?? null,\n      };\n    });\n\n    return (): VNode | null =>\n      frontmatter.value.hero === false\n        ? null\n        : h(\n            \"div\",\n            {\n              class: [\n                \"vp-blog-hero\",\n                {\n                  \"hero-fullscreen\": frontmatter.value.heroFullScreen,\n                  \"no-bg\": !bg.value.image,\n                },\n              ],\n            },\n            [\n              slots.heroBg?.(bg.value) ?? [\n                bg.value.image\n                  ? h(\"div\", {\n                      class: [\"vp-blog-mask\", { light: bg.value.imageDark }],\n                      style: [\n                        {\n                          background: `url(${bg.value.image}) center/cover no-repeat`,\n                        },\n                        bg.value.style,\n                      ],\n                    })\n                  : null,\n                bg.value.imageDark\n                  ? h(\"div\", {\n                      class: \"vp-blog-mask dark\",\n                      style: [\n                        {\n                          background: `url(${bg.value.imageDark}) center/cover no-repeat`,\n                        },\n                        bg.value.style,\n                      ],\n                    })\n                  : null,\n              ],\n              slots.heroLogo?.(image.value) ??\n                h(\n                  DropTransition,\n                  { appear: true, group: true, delay: 0.04 },\n                  () => {\n                    const {\n                      image: imageLight,\n                      imageDark,\n                      style: imageStyle,\n                      alt,\n                    } = image.value;\n\n                    return [\n                      imageLight\n                        ? h(\"img\", {\n                            key: \"light\",\n                            class: [\"vp-blog-hero-image\", { light: imageDark }],\n                            style: imageStyle,\n                            src: imageLight,\n                            alt: alt,\n                          })\n                        : null,\n                      imageDark\n                        ? h(\"img\", {\n                            key: \"dark\",\n                            class: \"vp-blog-hero-image dark\",\n                            style: imageStyle,\n                            src: imageDark,\n                            alt: alt,\n                          })\n                        : null,\n                    ];\n                  },\n                ),\n              slots.heroInfo?.(info.value) ??\n                h(\"div\", { class: \"vp-blog-hero-info\" }, [\n                  h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                    info.value.text\n                      ? h(\n                          \"h1\",\n                          { class: \"vp-blog-hero-title\" },\n                          info.value.text,\n                        )\n                      : null,\n                  ),\n                  h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                    info.value.tagline\n                      ? h(\"div\", {\n                          class: \"vp-blog-hero-description\",\n                          innerHTML: info.value.tagline,\n                        })\n                      : null,\n                  ),\n                ]),\n              frontmatter.value.heroFullScreen\n                ? h(HeroSlideDownButton, {\n                    onClick: () =>\n                      window.scrollTo({\n                        top:\n                          window.innerHeight -\n                          (document.querySelector(\"[vp-navbar]\")\n                            ?.clientHeight ?? 0),\n                        behavior: \"smooth\",\n                      }),\n                  })\n                : null,\n            ],\n          );\n  },\n});\n"]}