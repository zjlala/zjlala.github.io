import{startsWith as m,LoadingIcon as g}from"@vuepress/helper/client";import{defineComponent as y,ref as b,computed as i,h as e}from"vue";import{useLang as f}from"vuepress/client";import"../styles/youtube.scss";import{u as h}from"../useSize-C8GaR9if.js";import{v}from"../iframeAllow-Bxu5dfSj.js";import"@vueuse/core";var S=y({name:"YouTube",props:{id:String,title:{type:String,default:"A YouTube video"},width:{type:[String,Number],default:"100%"},height:[String,Number],ratio:{type:[String,Number],default:16/9},autoplay:Boolean,loop:Boolean,showCc:Boolean,showAnnotations:Boolean,start:[String,Number],end:[String,Number],defaultCcLang:String,uiLang:String,listType:String,list:String,playlist:String,disableControls:Boolean,disableFullscreen:Boolean,disableKeyboard:Boolean},setup(t){const s=f(),{el:n,width:u,height:d,resize:p}=h(t),o=b(!1),r=i(()=>t.id?`${t.id}?`:t.listType==="playlist"&&t.list?`?listType=playlist&list=${m(t.list,"PL")?t.list:`PL${t.list}`}&`:null),c=i(()=>{const l=new URLSearchParams;return t.autoplay&&l.set("autoplay","1"),t.loop&&l.set("loop","1"),t.showCc&&l.set("cc_load_policy","1"),t.showAnnotations&&l.set("iv_load_policy","3"),t.start&&l.set("start",t.start.toString()),t.end&&l.set("end",t.end.toString()),l.set("hl",t.uiLang||s.value),l.set("cc_lang_pref",t.defaultCcLang||s.value),l.set("color","white"),t.disableControls&&l.set("controls","0"),t.disableFullscreen&&l.set("fs","0"),t.disableKeyboard&&l.set("disablekb","1"),t.playlist&&l.set("playlist",t.playlist),l.toString()}),a=i(()=>r.value?`https://www.youtube.com/embed/${r.value}${c.value}`:null);return()=>a.value?[e("div",{class:"youtube-desc"},e("a",{class:"sr-only",href:a.value},t.title)),e("iframe",{ref:n,src:a.value,title:t.title,class:"youtube-iframe",allow:v,style:{width:u.value,height:o.value?d.value:0},onLoad:()=>{o.value=!0,p()}}),o.value?null:e(g)]:[]}});export{S as default};
//# sourceMappingURL=YouTube.js.map
