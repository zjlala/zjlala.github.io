{"version":3,"file":"SiteInfo.js","sources":["../../../src/client/components/SiteInfo.ts"],"sourcesContent":["import type { ExactLocaleConfig } from \"@vuepress/helper/client\";\nimport { isArray, useLocaleConfig } from \"@vuepress/helper/client\";\nimport type { PropType, VNode } from \"vue\";\nimport { computed, defineComponent, h } from \"vue\";\nimport { withBase } from \"vuepress/client\";\nimport { RepoIcon } from \"vuepress-shared/client\";\n\nimport type { SiteInfoLocaleData } from \"../../shared/index.js\";\n\nimport \"balloon-css/balloon.css\";\nimport \"../styles/site-info.scss\";\n\ndeclare const SITE_INFO_LOCALES: ExactLocaleConfig<SiteInfoLocaleData>;\n\nexport default defineComponent({\n  name: \"SiteInfo\",\n\n  props: {\n    /**\n     * Name of site\n     *\n     * 站点名称\n     */\n    name: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site link\n     *\n     * 站点链接\n     */\n    url: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site preview image\n     *\n     * 站点预览\n     */\n    preview: {\n      type: String,\n      required: true,\n    },\n\n    /**\n     * Site description\n     *\n     * 站点描述\n     */\n    desc: String,\n\n    /**\n     * Site logo\n     *\n     * 站点图标\n     */\n    logo: String,\n\n    /**\n     * Site repo\n     *\n     * 站点仓库\n     */\n    repo: [String, Array] as PropType<string | string[]>,\n  },\n\n  setup(props) {\n    const locale = useLocaleConfig(SITE_INFO_LOCALES);\n\n    const repo = computed(() => {\n      const { repo } = props;\n\n      return isArray(repo) ? repo : repo ? [repo] : null;\n    });\n\n    return (): VNode =>\n      h(\"div\", { class: \"vp-site-info\", \"data-name\": props.name }, [\n        h(\"a\", {\n          class: [\"vp-site-info-navigator\", \"no-external-link-icon\"],\n          title: props.name,\n          href: props.url,\n          target: \"_blank\",\n        }),\n        props.preview\n          ? h(\"div\", {\n              class: \"vp-site-info-preview\",\n              style: {\n                background: `url(${withBase(\n                  props.preview,\n                )}) center/cover no-repeat`,\n              },\n            })\n          : null,\n        h(\"div\", { class: \"vp-site-info-detail\" }, [\n          props.logo\n            ? h(\"img\", {\n                class: \"vp-site-info-logo\",\n                src: props.logo,\n                alt: \"\",\n                loading: \"lazy\",\n                \"no-view\": \"\",\n              })\n            : null,\n          h(\"div\", { class: \"vp-site-info-name\" }, props.name),\n          props.desc\n            ? h(\"div\", { class: \"vp-site-info-desc\" }, props.desc)\n            : null,\n        ]),\n        repo.value\n          ? h(\n              \"div\",\n              { class: \"vp-site-info-repo-wrapper\" },\n              repo.value.map((item) =>\n                h(\n                  \"a\",\n                  {\n                    class: \"vp-site-info-repo no-external-link-icon\",\n                    href: item,\n                    // Hint text\n                    \"aria-label\": locale.value.source,\n                    \"data-balloon-pos\": \"left\",\n                    title: locale.value.source,\n                    target: \"_blank\",\n                  },\n                  h(RepoIcon, { link: item }),\n                ),\n              ),\n            )\n          : null,\n      ]);\n  },\n});\n"],"names":["SiteInfo","defineComponent","props","locale","useLocaleConfig","repo","computed","isArray","h","withBase","item","RepoIcon"],"mappings":"gSAcA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,WAEN,MAAO,CAML,KAAM,CACJ,KAAM,OACN,SAAU,EACZ,EAOA,IAAK,CACH,KAAM,OACN,SAAU,EACZ,EAOA,QAAS,CACP,KAAM,OACN,SAAU,EACZ,EAOA,KAAM,OAON,KAAM,OAON,KAAM,CAAC,OAAQ,KAAK,CACtB,EAEA,MAAMC,EAAO,CACX,MAAMC,EAASC,EAAgB,iBAAiB,EAE1CC,EAAOC,EAAS,IAAM,CAC1B,KAAM,CAAE,KAAAD,CAAK,EAAIH,EAEjB,OAAOK,EAAQF,CAAI,EAAIA,EAAOA,EAAO,CAACA,CAAI,EAAI,IAChD,CAAC,EAED,MAAO,IACLG,EAAE,MAAO,CAAE,MAAO,eAAgB,YAAaN,EAAM,IAAK,EAAG,CAC3DM,EAAE,IAAK,CACL,MAAO,CAAC,yBAA0B,uBAAuB,EACzD,MAAON,EAAM,KACb,KAAMA,EAAM,IACZ,OAAQ,QACV,CAAC,EACDA,EAAM,QACFM,EAAE,MAAO,CACP,MAAO,uBACP,MAAO,CACL,WAAY,OAAOC,EACjBP,EAAM,OACR,CAAC,0BACH,CACF,CAAC,EACD,KACJM,EAAE,MAAO,CAAE,MAAO,qBAAsB,EAAG,CACzCN,EAAM,KACFM,EAAE,MAAO,CACP,MAAO,oBACP,IAAKN,EAAM,KACX,IAAK,GACL,QAAS,OACT,UAAW,EACb,CAAC,EACD,KACJM,EAAE,MAAO,CAAE,MAAO,mBAAoB,EAAGN,EAAM,IAAI,EACnDA,EAAM,KACFM,EAAE,MAAO,CAAE,MAAO,mBAAoB,EAAGN,EAAM,IAAI,EACnD,IACN,CAAC,EACDG,EAAK,MACDG,EACE,MACA,CAAE,MAAO,2BAA4B,EACrCH,EAAK,MAAM,IAAKK,GACdF,EACE,IACA,CACE,MAAO,0CACP,KAAME,EAEN,aAAcP,EAAO,MAAM,OAC3B,mBAAoB,OACpB,MAAOA,EAAO,MAAM,OACpB,OAAQ,QACV,EACAK,EAAEG,EAAU,CAAE,KAAMD,CAAK,CAAC,CAC5B,CACF,CACF,EACA,IACN,CAAC,CACL,CACF,CAAC"}