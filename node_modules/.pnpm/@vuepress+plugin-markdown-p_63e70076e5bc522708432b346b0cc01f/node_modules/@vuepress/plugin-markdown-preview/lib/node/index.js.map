{"version":3,"file":"index.js","sources":["../../src/node/locales.ts","../../src/node/preview.ts","../../src/node/markdownPreviewPlugin.ts"],"sourcesContent":["import type { DefaultLocaleInfo } from '@vuepress/helper'\nimport type { MarkdownPreviewPluginLocaleData } from '../shared/index.js'\n\nexport const previewLocaleInfo: DefaultLocaleInfo<MarkdownPreviewPluginLocaleData> =\n  [\n    [\n      ['en', 'en-US'],\n      {\n        toggle: 'Toggle code',\n      },\n    ],\n    [\n      ['zh', 'zh-CN', 'zh-Hans'],\n      {\n        toggle: '切换代码',\n      },\n    ],\n    [\n      ['zh-TW', 'zh-Hant'],\n      {\n        toggle: '切換程式碼',\n      },\n    ],\n    [\n      ['de', 'de-DE'],\n      {\n        toggle: 'Code umschalten',\n      },\n    ],\n    [\n      ['de-AT'],\n      {\n        toggle: 'Code umschalten',\n      },\n    ],\n    [\n      ['vi', 'vi-VN'],\n      {\n        toggle: 'Chuyển đổi mã',\n      },\n    ],\n    [\n      ['uk'],\n      {\n        toggle: 'Перемкнути код',\n      },\n    ],\n    [\n      ['fr', 'fr-FR'],\n      {\n        toggle: 'Basculer le code',\n      },\n    ],\n    [\n      ['es', 'es-ES'],\n      {\n        toggle: 'Alternar código',\n      },\n    ],\n    [\n      ['it', 'it-IT'],\n      {\n        toggle: 'Attiva/disattiva codice',\n      },\n    ],\n    [\n      ['ja', 'ja-JP'],\n      {\n        toggle: 'コードを切り替え',\n      },\n    ],\n    [\n      ['ko', 'ko-KR'],\n      {\n        toggle: '코드 전환',\n      },\n    ],\n    [\n      ['tr', 'tr-TR'],\n      {\n        toggle: 'Kodu değiştir',\n      },\n    ],\n    [\n      ['pt', 'pt-PT'],\n      {\n        toggle: 'Alternar código',\n      },\n    ],\n    [\n      ['pt-BR'],\n      {\n        toggle: 'Alternar código',\n      },\n    ],\n    [\n      ['ru', 'ru-RU'],\n      {\n        toggle: 'Переключить код',\n      },\n    ],\n  ]\n","import { escapeHtml } from '@mdit/helper'\nimport type { MarkdownItDemoOptions } from '@mdit/plugin-demo'\nimport { demo } from '@mdit/plugin-demo'\nimport type { PluginSimple } from 'markdown-it'\n\nexport const preview: PluginSimple = (md) => {\n  const demoOptions: MarkdownItDemoOptions = {\n    openRender: (tokens, index) =>\n      `<VPPreview title=\"${escapeHtml(tokens[index].info)}\">\\n`,\n    codeRender: (tokens, index, options, _env, self) =>\n      `\\\n<template #code>\n${self.rules.fence!(tokens, index, options, _env, self)}\n</template>\n`,\n    contentOpenRender: () => `<template #content>\\n`,\n    contentCloseRender: () => `</template>\\n`,\n    closeRender: () => '</VPPreview>\\n',\n  }\n\n  md.use(demo, {\n    name: 'preview',\n    ...demoOptions,\n  })\n}\n","import { getFullLocaleConfig } from '@vuepress/helper'\nimport type { Plugin } from 'vuepress/core'\nimport { getDirname, path } from 'vuepress/utils'\n\nimport { previewLocaleInfo } from './locales.js'\nimport type { MarkdownPreviewPluginOptions } from './options.js'\nimport { preview } from './preview.js'\n\nconst PLUGIN_NAME = '@vuepress/plugin-markdown-preview'\n\nconst __dirname = getDirname(import.meta.url)\n\n/**\n * Markdown preview plugin\n *\n * Markdown 预览插件\n *\n * @param options - plugin options / 插件选项\n *\n * @example\n * ```ts\n * import { markdownPreviewPlugin } from '@vuepress/plugin-markdown-preview'\n *\n * export default {\n *   plugins: [\n *     markdownPreviewPlugin(),\n *   ],\n * }\n * ```\n */\nexport const markdownPreviewPlugin =\n  (options: MarkdownPreviewPluginOptions = {}): Plugin =>\n  (app) => ({\n    name: PLUGIN_NAME,\n\n    define: (): Record<string, unknown> => ({\n      __PREVIEW_LOCALES__: getFullLocaleConfig({\n        app,\n        name: PLUGIN_NAME,\n        default: previewLocaleInfo,\n        config: options.locales,\n      }),\n    }),\n\n    extendsMarkdown: (md) => {\n      md.use(preview)\n    },\n\n    clientConfigFile: path.resolve(__dirname, '../client/config.js'),\n  })\n"],"names":["previewLocaleInfo","preview","md","demoOptions","tokens","index","escapeHtml","options","_env","self","demo","PLUGIN_NAME","__dirname","getDirname","markdownPreviewPlugin","app","getFullLocaleConfig","path"],"mappings":"gMAGO,MAAMA,EACX,CACE,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,aACV,CACF,EACA,CACE,CAAC,KAAM,QAAS,SAAS,EACzB,CACE,OAAQ,MACV,CACF,EACA,CACE,CAAC,QAAS,SAAS,EACnB,CACE,OAAQ,OACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,iBACV,CACF,EACA,CACE,CAAC,OAAO,EACR,CACE,OAAQ,iBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,eACV,CACF,EACA,CACE,CAAC,IAAI,EACL,CACE,OAAQ,gBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,kBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,iBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,yBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,UACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,OACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,eACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,iBACV,CACF,EACA,CACE,CAAC,OAAO,EACR,CACE,OAAQ,iBACV,CACF,EACA,CACE,CAAC,KAAM,OAAO,EACd,CACE,OAAQ,iBACV,CACF,CACF,EChGWC,EAAyBC,GAAO,CAC3C,MAAMC,EAAqC,CACzC,WAAY,CAACC,EAAQC,IACnB,qBAAqBC,EAAWF,EAAOC,CAAK,EAAE,IAAI,CAAC;AAAA,EACrD,WAAY,CAACD,EAAQC,EAAOE,EAASC,EAAMC,IACzC;AAAA,EAEJA,EAAK,MAAM,MAAOL,EAAQC,EAAOE,EAASC,EAAMC,CAAI,CAAC;AAAA;AAAA,EAGnD,kBAAmB,IAAM;AAAA,EACzB,mBAAoB,IAAM;AAAA,EAC1B,YAAa,IAAM;AAAA,CACrB,EAEAP,EAAG,IAAIQ,EAAM,CACX,KAAM,UACN,GAAGP,CACL,CAAC,CACH,EChBMQ,EAAc,oCAEdC,EAAYC,EAAW,YAAY,GAAG,EAoB/BC,EACX,CAACP,EAAwC,CAAA,IACxCQ,IAAS,CACR,KAAMJ,EAEN,OAAQ,KAAgC,CACtC,oBAAqBK,EAAoB,CACvC,IAAAD,EACA,KAAMJ,EACN,QAASX,EACT,OAAQO,EAAQ,OAClB,CAAC,CACH,GAEA,gBAAkBL,GAAO,CACvBA,EAAG,IAAID,CAAO,CAChB,EAEA,iBAAkBgB,EAAK,QAAQL,EAAW,qBAAqB,CACjE"}