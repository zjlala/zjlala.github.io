import{UNESCAPE_RE as i}from"@mdit/helper";const l=(s,n)=>{const p=s.posMax,e=s.pos;if(s.src.charCodeAt(e)!==126||n||e+2>=p)return!1;s.pos=e+1;let r=!1;for(;s.pos<p;){if(s.src.charCodeAt(s.pos)===126){r=!0;break}s.md.inline.skipToken(s)}if(!r||e+1===s.pos)return s.pos=e,!1;const t=s.src.slice(e+1,s.pos);if(/(^|[^\\])(\\\\)*\s/u.exec(t))return s.pos=e,!1;s.posMax=s.pos,s.pos=e+1;const u=s.push("sub_open","sub",1);u.markup="~";const c=s.push("text","",0);c.content=t.replace(i,"$1");const a=s.push("sub_close","sub",-1);return a.markup="~",s.pos=s.posMax+1,s.posMax=p,!0},f=s=>{s.inline.ruler.after("emphasis","sub",l)};export{f as sub};
//# sourceMappingURL=index.js.map
